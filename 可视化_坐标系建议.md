# 按毕业 profiel 做学校二维可视化的坐标系建议

只使用 **VWO 和 HAVO** 的考生/毕业 profiel 数据，把每所学校放在二维平面上，便于比较「文理倾向」和「学历层次」。

---

## 现有数据能算什么

每个学校 JSON 里有 **profielen_per_examenjaar**，按学年有：

- **HAVO**：N&T、N&G、E&M、C&M、N&T/N&G、E&M/C&M（人数或 `<5`）
- **VWO**：同上

可汇总出（例如用最近一年或多年合计）：

- 各校 **HAVO 总人数**、**VWO 总人数**
- 各校 **理科类**（N&T + N&G + 一半 N&T/N&G）、**文科/社科类**（E&M + C&M + 一半 E&M/C&M）人数

---

## 推荐坐标系（二选一即可）

### 方案 A：文理倾向 × 学历层次（推荐）

| 轴 | 含义 | 计算方式 |
|----|------|----------|
| **X 轴** | 理科倾向 | 理科人数 / (理科 + 文科)。理科 = N&T + N&G + N&T/N&G；文科 = E&M + C&M + E&M/C&M（HAVO 与 VWO 合并算） |
| **Y 轴** | VWO 占比 | VWO 总考生数 / (HAVO + VWO) 总考生数 |

- **解读**：  
  - 横轴越右 = 越偏理科（N&T、N&G）；越左 = 越偏文科/社科（E&M、C&M）。  
  - 纵轴越高 = 越偏 VWO（大学预科）；越低 = 越偏 HAVO（高职预科）。  
- **四象限**：右上 = 偏理 + 偏 VWO；左上 = 偏文 + 偏 VWO；右下 = 偏理 + 偏 HAVO；左下 = 偏文 + 偏 HAVO。

适合同时看「学科倾向」和「学校是更 VWO 还是更 HAVO」。

---

### 方案 B：只比文理分布

| 轴 | 含义 | 计算方式 |
|----|------|----------|
| **X 轴** | 理科占比 | (N&T + N&G + N&T/N&G) / 总人数（HAVO+VWO，只算四个主 profiel + 两个组合） |
| **Y 轴** | 文科/社科占比 | (E&M + C&M + E&M/C&M) / 总人数 |

- **解读**：点越靠右越偏理，越靠上越偏文；对角线附近表示文理较均衡（若两轴都按占比且组合处理一致）。  
- 不体现 HAVO/VWO 比例，只体现「毕业 profiel 的文理结构」。

---

## 组合 profiel 怎么算

- **N&T / N&G**：建议一半算进「理科」、一半算进「文科」；或直接全算「理科」（偏理）。  
- **E&M / C&M**：建议一半算进「文科」、一半算进「社科」；或全算「文科/社科」。  

为简单起见，可以：  
- 理科 = N&T + N&G + (N&T/N&G)  
- 文科 = E&M + C&M + (E&M/C&M)  

这样理科 + 文科 ≈ 总人数（略去少量其它情况时）。

---

## 数据年份与 `<5` 处理

- **年份**：可用最近一年（如 2023-2024）或多年加总；多年更稳，单年更反映近期结构。  
- **`<5`**：DUO 隐私显示为 `<5`，可统一按 2 或 3 计，或该 profiel 计为 0；建议在图上注明「`<5` 按 2 计」等。

---

## 小结

- **想做「毕业去向」的可视化、且只考虑 VWO/HAVO**：  
  - 优先用 **方案 A**：**X = 理科倾向，Y = VWO 占比**，一个二维坐标系即可同时看文理和学历层次。  
- 若只关心「文理结构」、不关心 HAVO/VWO 比例，用 **方案 B** 即可。  

下一步可以：用 Python（matplotlib/plotly）或 JavaScript（D3/Chart.js）读各校 JSON，按上面公式算 X、Y，画散点图，每点标注学校名。
